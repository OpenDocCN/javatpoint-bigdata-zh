# 蔚蓝存储安全

> 原文:[https://www.javatpoint.com/azure-storage-security](https://www.javatpoint.com/azure-storage-security)

Azure 存储安全分为五大领域。

### 管理平面安全

管理平面指的是影响存储帐户本身的操作。我们控制对影响存储帐户的服务的访问的方法是使用 Azure 活动目录。

![Azure Storage Security](../Images/e98591f51d5c442cb24325653d0f8342.png)

**基于角色的访问控制**

*   正如我们所知，每个 Azure 订阅都有一个相关的 Azure 活动目录。Azure 活动目录包含用户、组和应用程序。对他们来说，我们可以提供对 Azure 订阅中管理资源的访问。该资源可以是存储帐户，我们控制存储帐户访问级别的方法是为用户分配适当的角色。因此，我们可以定义所有者角色、贡献者角色或读者角色。

要记住的要点:

*   分配角色时，我们可以控制对用于管理存储帐户的操作的访问，但不能控制对帐户中数据对象的访问。
*   但是，我们可以通过提供读取存储帐户密钥的权限来授予对数据对象的访问权限，因为存储帐户密钥使用户能够访问数据对象。
*   每个角色都有一个操作列表。
*   有一些标准角色可用，例如，所有者、读者、贡献者等。
*   我们可以通过从可用操作列表中选择一组操作来定义新的自定义角色。

### 数据平面安全性

它指的是用于保护存储帐户中的数据对象(blobs、队列、表和文件)的方法。

![Azure Storage Security](../Images/5e921ea3b1a9cf3ecc13b8ab31781d3d.png)

有三种方法可以控制对存储帐户中数据的访问

*   ***Azure 活动目录*** 授权访问容器和队列。Azure Active Directory 提供了优于其他授权方法的优势，包括无需在代码中存储机密。
*   ***存储帐户密钥*** 提供对存储帐户内所有数据对象的全面访问。
*   ***【共享访问签名】*** 在这种情况下，如果我们想要提供对某些服务的访问，例如——只对 blobs、只对队列或它们的组合。此外，如果我们想要控制访问级别，例如只读、更新、删除，我们也希望提供有时间限制的访问。因此，我们希望只提供一年的访问权限，一年后，出于安全原因，我们会生成另一个 SAS 并呈现给他们。在这种情况下，我们使用共享访问签名。

![Azure Storage Security](../Images/c196334888bef75873e1f66e3c2096f4.png)

我们可以通过相应地设置保存 blob 的容器的访问级别来允许公众访问我们的 blob。

### 传输中的加密

使用 HTTPS 的传输级加密

*   使用 REST APIs 或访问存储中的对象时，请始终使用 HTTPS。
*   如果我们使用的是 SAS，我们可以指定只应用 HTTPS。

对 Azure 文件共享使用传输加密

*   1 不支持加密，因此只允许在同一区域内连接。
*   0 支持加密，并且允许跨区域访问。

*客户端加密*

*   在将数据传输到 Azure 存储之前对其进行加密
*   从 Azure 检索数据时，数据在客户端接收后被解密。

![Azure Storage Security](../Images/5436788a63e32e2a15a59e0e5a99a0d4.png)

### 静态加密

*客户端加密*

*   在将数据传输到 Azure 存储之前对其进行加密。
*   从 Azure 检索数据时，数据在客户端接收后被解密。

*存储服务加密(SSE)*

这就是我们通常用来在 REST 加密数据的 Azure 存储

*   它对所有存储帐户都是启用的，不能禁用。
*   它自动加密所有性能层(标准和高级)、所有部署模型(Azure 资源管理器和经典)和所有 Azure 存储服务(Blob、队列、表和文件)中的数据。因此，它是所有 Azure 存储的全面加密。
*   我们可以使用微软管理的密钥或您的自定义密钥来加密数据。

*蔚蓝磁盘加密*

这是微软推荐的加密磁盘的方法，特别是使用 Azure 磁盘

*   加密 IaaS 虚拟机使用的操作系统和数据磁盘
*   您可以在现有的 IaaS 虚拟机上启用加密
*   您可以使用客户提供的加密密钥

### CORS(跨来源资源共享)

*   当网络浏览器对来自不同域的资源发出 HTTP 请求时，这被称为跨来源 HTTP 请求。
*   Azure Storage 允许我们启用 CORS。对于每个存储帐户，我们可以指定可以访问该存储帐户中的资源的域。例如，在 mystorage.blob.core.windows.net 存储帐户上启用 CORS，并将其配置为允许访问 mywebsite.com。
*   CORS 允许访问，但不提供身份验证，这意味着我们仍然需要使用 SAS 密钥来访问非公共存储资源。
*   默认情况下，所有服务都禁用 CORS。我们可以使用 Azure 门户或 Power Shell 启用它，并且我们可以指定请求将从哪个域访问您的存储帐户中的数据。

![Azure Storage Security](../Images/ce6aaee8084c21c3ae56dba084714aeb.png)

* * *