# 亚马逊的姐夫

> 哎哎哎:# t0]https://www . javatppoint . com/Amazon-cognito

### 什么是亚马逊认知？

亚马逊认知是一款亚马逊网络服务产品，用于控制用户身份验证和访问互联网连接设备上的移动应用程序。该服务保存并同步最终用户数据，允许应用程序开发人员专注于编写代码，而不是构建和管理后端基础架构。它可以加快移动应用程序的开发过程。

需要通过身份验证和授权进行访问控制，以确认试图访问网站的设备或人员的身份，以及他们是否有权这样做。这两个方面对于确保组织能够保护其网络和受保护的资源免受不良行为者的侵害都很重要。这就是亚马逊 Cognito 的切入点。

Amazon Cognito 将用户配置文件属性聚合到称为用户池的目录中，移动应用程序或网络应用程序使用这些目录来配置对 AWS 资源的有限访问。身份池整合了客户端访问平台、设备和操作系统获取的最终用户信息，以组织联合身份组。

当一台设备在线时，数据会与 AWS 同步，从而允许最终用户访问另一台设备上的相同信息。在重新连接之前，数据可以在脱机状态下保存到本地 SQLite 数据库中。亚马逊认知将数据集与身份相关联，并将加密信息作为密钥或值对保存在亚马逊认知同步存储中。每个用户最多可以保存 20MB 的数据，每个数据集最多包含 1MB。

开发人员可以将亚马逊认知配置为在数据更新和同步时接受事件流。移动开发人员还可以通过其他 AWS 云服务查询数据，例如亚马逊红移数据库、关系数据库服务(RDS)实例或亚马逊简单存储服务(S3)文件。

### 亚马逊 Cognito 是做什么用的？

亚马逊 Cognito 为网络和移动应用程序提供简单、安全的用户认证、授权和用户管理。使用 Cognito，用户或访问者可以通过亚马逊或第三方(如脸书、谷歌或苹果)使用用户名和密码登录。

因此，使用 Cognito，开发人员可以:

*   借助内置用户界面(UI)和简单配置，轻松将用户注册、登录和访问控制添加到您的应用程序中
*   社会身份提供者的联邦身份
*   跨多个设备和应用程序同步数据
*   通过定义角色并将用户映射到不同的角色，从其应用程序提供对其他 AWS 服务的安全访问

由于 Cognito 处理所有身份验证要求，开发人员可以专注于构建应用程序和网站。这可以加快开发过程，缩短发布周期，增加上市时间和价格。

认知是亚马逊网络服务生态系统的一部分。Cognito 控制台本身是组织的 AWS 管理控制台的一部分，他们可以在其中查看关于其 Cognito 帐户和计费的所有信息。

### 用户池与身份池:了解差异

亚马逊认知有两个主要组成部分:

**用户池:**为 app 用户提供注册和登录选项的用户目录。

**身份池:** Cognito 元素让用户可以访问其他 AWS 服务(例如亚马逊 S3 和 DynamoDB)。

借助用户池，用户可以通过亚马逊认知、社交身份提供商(如谷歌或脸书)或安全声明标记语言(SAML)身份提供商登录应用程序。每个用户都有一个目录配置文件。开发人员可以通过软件开发工具包访问这些配置文件。用户池可以检查受损的凭据，提供基于电子邮件和电话的验证，并提供多因素身份验证(MFA)以提高安全性。管理员还可以将 AWS Lambda 与亚马逊认知身份集成，为可定制的安全功能添加逻辑。

如果组织需要向用户提供对 AWS 资源的访问，他们可以配置身份池。身份池是联合身份，支持通过用户池和联合身份提供者、SAML 身份提供者，甚至未经授权的身份(来宾用户)进行身份验证。使用身份池，组织可以创建唯一的身份并分配用户权限。

身份池和用户池可以单独使用，也可以一起使用。

## 软件开发工具包支持

移动应用开发者可以使用软件开发工具包与认知集成，或者直接访问服务器端应用编程接口。AWS 在其 AWS Mobile SDK 中支持亚马逊 Cognito，其中包括库、代码示例和 API，以帮助开发人员使用该服务。该软件开发工具包可用于 iOS、安卓、Unity 和 Kindle Fire。用于 JavaScript 的 AWS SDK 也支持 Cognito。用户池在用于 JavaScript 的 AWS SDK 和用于 iOS 和 Android 的 AWS Mobile SDK 中均有提供。

### 亚马逊认知认证如何运作:一个 4 步流程

以下是身份池和用户池一起使用时身份验证的工作原理:

*   用户通过用户池登录。
*   一旦成功通过身份验证，他们将收到一个用户池令牌。
*   该应用程序通过身份池交换 AWS 凭据的令牌。
*   用户可以使用这些经过身份验证的 AWS 凭据来访问 AWS 云中的其他服务。

![Amazon Cognito](../Images/562322591591c4358f2228c045c941f3.png)

亚马逊认知安全工作原理概述。

### 将用户数据与 AWS 认知同步

AWS 认知同步跨移动设备和网络应用程序同步用户配置文件数据。该功能允许用户在亚马逊 Cognito 中拥有一个规范化的用户标识和凭据。

该服务支持安卓和 iOS 设备，具有高端客户端库，可在本地缓存用户数据。后者使数据可用，即使设备本身离线。

用户数据保存在数据集中。只有分配给特定身份的凭据才能访问这些数据。为了提供用户身份，认知同步需要亚马逊认知身份池。

因此，为了使用亚马逊认知同步，一个组织需要建立一个身份池。

### 亚马逊认知安全和数据保护

亚马逊 Cognito 的安全性与 AWS 数据安全的“共享安全”模式保持一致。AWS 提供云安全，而组织负责云中的安全*。*

亚马逊 Cognito 支持 MFA，并根据行业标准对静态和传输中的数据进行加密，以增加一层安全性。它还符合多项数据保护标准和法规，包括:

*   海鲅
*   数据安全标准
*   服务组织控制
*   iso/iec 27001/27001/27001 8 号文件
*   iso9001

亚马逊 Cognito 还支持多种身份和访问管理(IAM)功能，包括:

*   基于身份的策略
*   政策行动
*   临时证书
*   服务角色
*   服务链接角色

![Amazon Cognito](../Images/43978c5e09763288f3facf614425a7d3.png)

亚马逊认知包括几个身份访问管理功能。

### 亚马逊认知定价

月活跃用户决定了亚马逊认知的价格。如果在一个日历月内有任何注册、登录、令牌刷新或密码更改操作与用户相关，则该用户为 MAU。

前 5 万 mau 是免费的。之后，定价基于基于 mau 数量的分层模型。

认知同步的收费基于同步操作的次数和认知同步存储的数据量。借助 AWS 自由层，企业可以存储 10GB 数据，并在长达 12 个月的时间内每月执行 1，000，000 次同步操作。一旦免费层结束，亚马逊 Cognito 每月对每 GB 同步存储收取 15 美分，对每 10，000 次同步操作收取 15 美分。

* * *