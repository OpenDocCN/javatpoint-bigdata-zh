# 卡夫卡主题

> 原文:[https://www.javatpoint.com/kafka-topics](https://www.javatpoint.com/kafka-topics)

在前一节中，我们已经简单介绍了 Apache Kafka、消息传递系统以及流式传输过程。在这里，我们将讨论卡夫卡的基本概念和作用。

## 主题

一般来说，一个主题指的是一个特定的标题或给一些特定的相互关联的想法起的名字。在卡夫卡中，主题一词指的是用于存储和发布特定数据流的类别或通用名称。基本上，Kafka 中的主题类似于数据库中的表，但不包含所有约束。在卡夫卡中，我们可以随心所欲地创作 n 个主题。它由它的名字来标识，这取决于用户的选择。生产者向主题发布数据，消费者通过订阅从主题中读取数据。

## 划分

一个主题被分成几个部分，称为主题的分区。这些分区按顺序分开。数据内容存储在主题的分区中。因此，在创建主题时，我们需要指定分区的数量(该数量是任意的，可以在以后更改)。每条消息都存储在分区中，分区的增量 id 称为其偏移量值。**偏移值**的顺序仅在分区内得到保证，而不是跨分区。分区的偏移量是无限的。

#### 注意:数据一旦写入分区就永远无法更改。它是不可改变的。偏移值始终保持增量状态，它永远不会回到空白空间。此外，数据只在分区中保留有限的时间。

让我们看一个例子来理解一个主题及其分区。

![Kafka Topics](../Images/e52f655221525f3628a346dd49008368.png)

假设，一个主题包含三个分区 0，1 和 2。每个分区都有不同的偏移量。数据分布在每个分区的每个偏移中，其中分区 0 的偏移 1 中的数据与分区 1 的偏移 1 中的数据没有任何关系。但是，分区 0 的偏移量 1 中的数据与分区 0 的偏移量 2 中包含的数据相互关联。

## 经纪人

阿帕奇卡夫卡的角色来了。

卡夫卡集群由一个或多个服务器组成，这些服务器被称为经纪人或卡夫卡经纪人。代理是一个容器，其中包含多个主题及其多个分区。群集中的代理仅由整数 id 标识。卡夫卡经纪人也被称为**引导经纪人**，因为与任何一个经纪人的连接都意味着与整个集群的连接。虽然代理不包含全部数据，但是集群中的每个代理都知道所有其他代理、分区以及主题。

![Kafka Topics](../Images/7241d3a5dc2d7d40aa44e26f6aa29a9a.png)

这就是包含 n 个分区的主题的图中代理的样子。

## 示例:经纪人和主题

假设，卡夫卡集群由三个经纪人组成，即经纪人 1、经纪人 2 和经纪人 3。

![Kafka Topics](../Images/6beab4901357c16a696a25a7f2491cd5.png)

每个代理都持有一个主题，即带有三个分区 0、1 和 2 的主题 x。请记住，所有分区不仅仅属于一个代理，它总是分布在每个代理中(取决于数量)。代理 1 和代理 2 包含另一个主题——y 有两个分区 0 和 1。因此，代理 3 不保存来自主题 y 的任何数据。还得出结论，代理号和分区号之间不存在任何关系。

* * *