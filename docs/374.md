# Azure blob 存储

> 原文：<https://www.javatpoint.com/azure-blob-storage>

它是微软面向云的对象存储解决方案。Blob 存储针对存储大量非结构化数据(如文本或二进制数据)进行了优化。

**Blob 存储用途:**

*   它直接向浏览器提供图像或文档。
*   它为分布式访问存储文件。
*   我们可以使用 blob 存储来流式传输视频和音频。
*   轻松写入日志文件。
*   它存储用于备份、恢复、灾难恢复和归档的数据。
*   它存储数据，供内部或 Azure 托管的服务进行分析。

Azure blob 存储是整个 Microsoft Azure 的基础，因为许多其他 Azure 服务会将数据存储在 blob 存储内的存储帐户中，并对这些数据采取行动。每一滴都应该储存在一个容器里。

### 容器

这个容器更像是一个存放不同斑点的文件夹。在容器级别，我们可以定义安全策略，并将这些策略分配给容器，容器将级联到同一容器下的所有 blobs。

存储帐户可以包含无限数量的容器，每个容器可以包含无限数量的 blobs，最多不超过存储帐户大小的最大限制(最多 500 TB)。

要引用这个 blob，一旦将它放入存储帐户内部的容器中，我们就可以使用类似 http://mystorageaccount . blob . core . windows . net/my container/my blob 的 URL。

Blob 存储基于平面存储方案。所以你不能在一个容器中创建一个容器。让我们举个例子——一旦我们创建了一个像视频这样的容器，如果我们想区分专业视频和个人视频。然后，我们可以在 blob 名称前面加上个人视频的人员和专业视频的专业人员。blob 名称将显示为个人视频 1、个人视频 2，对于专业视频-专业-视频 1、专业-视频 2。像这样，我们可以创建一个虚拟层次结构，但是我们不能在 Azure blob 存储服务内部的容器中创建一个容器。

### 斑点类型:

Azure 提供三种类型的 blob 服务:

*   **Block blob:** 它存储文本二进制数据，最高可达约 4.7 TB。它是可以单独管理的数据块。当我们将 blob 数据上传到 Azure 中时，我们可以主要使用 blob 来提高上传时间。当我们上传任何视频文件、媒体文件或任何文档时。我们通常可以使用 blobs，除非它们是日志文件。
*   **追加 blob:** 它由像块 blob 这样的块组成，但针对追加操作进行了优化。它非常适合像记录虚拟机数据这样的应用程序。例如-应用程序日志、事件日志，其中需要将数据附加到文件的末尾。因此，当我们使用 Azure 门户或使用代码将 blob 上传到容器中时，我们可以在那时指定 blob 类型。
*   **页面 blob:** 它存储高达 8 TB 的随机访问文件。页面 blobs 存储支持虚拟机的 VHD 文件。

大多数时候，我们使用块 blob 和追加 blob 进行操作。默认情况下会创建页面 blobs。当我们创建虚拟机时，存储帐户被创建，与虚拟机相关联的磁盘将存储在存储帐户中。但是对于我们所知道的大多数存储解决方案，我们正在开发一个像 YouTube 这样的应用程序，或者我们正在开发一个监控应用程序，在这种情况下，我们要么使用 blob 块，要么根据需求追加 blob。

### 命名和引用

容器和 blob 的名称应该遵守一些规则。因为当您试图访问它们时，容器名称和 blob 名称将是 URL 的一部分。他们需要遵守以下规定的一些规则。

**集装箱名称**

*   容器的名称必须以字母或数字开头，并且只能包含字母、数字和破折号(-)字符。
*   容器名称中的所有字母都必须小写。
*   容器名称的长度必须为 3 到 63 个字符。

**斑点名称**

*   斑点的名称可以包含任何字符组合。
*   斑点的名称长度必须至少为一个字符，并且不能超过 1024 个字符。
*   Azure 存储模拟器支持最长 256 个字符的 blob 名称。
*   blobs 的名称区分大小写。
*   必须正确转义保留的网址字符。

### 元数据和快照

我们可以针对容器或 blob 存储一些信息作为元数据。它是与容器或 blob 关联的名称-值对。元数据名称必须符合 C#标识符的名称规则。例如，当我们开发任何后端作为 Azure blob 存储的视频流应用程序时，在这种情况下，当用户上传视频时，我们希望将用户信息存储为该视频的元数据。一旦我们开始开发基于 blob 存储的应用程序，它就非常有用。

**斑点快照**

快照是 blob 存储的只读版本。我们可以使用快照来创建 blob 的备份或检查点。快照 blob 名称包括基本 blob URL 和一个日期时间值，该值指示快照的创建时间。同样，如果我们正在开发一个类似 YouTube 的应用程序，并希望保留视频的早期版本，那么我们可以拍摄一个快照，并在用户更新视频后存储它。因此，像 SharePoint 这样的用户可以看到以前版本的视频和当前版本的视频。

为了访问快照，我们必须在 URL 的末尾添加一个查询字符串。以及创建快照时具有相似日期和时间的快照。

* * *