# Azure 存储帐户

> 原文:[https://www.javatpoint.com/azure-storage-account](https://www.javatpoint.com/azure-storage-account)

Azure 存储帐户是一个安全帐户，它为您提供对 Azure 存储中的服务的访问。存储帐户就像一个管理容器，在其中，我们可以有几个服务，如 blobs、文件、队列、表、磁盘等。当我们在 Azure 中创建存储帐户时，我们将获得存储资源的唯一命名空间。这个唯一的名称空间构成了网址的一部分。存储帐户名在 Azure 中的所有现有存储帐户名中应该是唯一的。

**存储账户类型**

| 存储帐户类型 | 支持的服务 | 支持的性能层 | 支持的访问层 | 复制选项 | 部署模型 | 加密 |
| **通用 V2** | Blob、文件、队列、表和磁盘 | 标准，高级 | 热、冷、存档 | LRS、ZRS、GRS、RA-GRS | 资源管理程序 | 把…加密 |
| **通用 V1** | Blob、文件、队列、表和磁盘 | 标准，高级 | 不适用的 | LRS、GRS、RA-GRS | 资源管理器，经典 | 把…加密 |
| **斑点存储** | 斑点(仅阻止斑点和附加斑点) | 标准 | 热、冷、存档 | LRS、GRS、RA-GRS | 资源管理程序 | 把…加密 |

#### 注意:如果您想使用所有存储服务，我们建议您使用通用版本-2，如果您只需要 blob 的存储帐户，则可以使用 blob 存储帐户类型。

**绩效等级类型**

**标准性能:**该层由磁驱动器支持，提供低成本/GB。它们最适合最适合大容量存储或不常访问的数据的应用程序。

**高级存储性能:**该层由固态驱动器支持，提供一致性和低延迟性能。它们只能与 Azure 虚拟机磁盘一起使用，最适合输入/输出密集型工作负载，如数据库。

(因此每个虚拟机磁盘都将存储在一个存储帐户中。因此，如果我们关联一个磁盘，那么我们将选择高级存储。但是，如果我们使用存储帐户专门存储 blobs，那么我们将采用标准性能。)

**访问层**

有四种类型的访问层可用:

***高级存储(预览):*** 它为频繁访问的数据提供高性能硬件。

***热存储:*** 针对存储频繁访问的数据进行了优化。

***蓄冷:*** 它针对存储不常访问的数据进行了优化，并至少存储了 30 天。

***归档存储:*** 它针对存储很少访问的文件进行了优化，并且存储时间至少为 180 天，具有灵活的延迟需求(大约几小时)。

**接入层优势:**

当用户将文档上传到存储器中时，文档最初会被频繁访问。在此期间，我们将文档放入*热存储层。*

但是过了一段时间，一旦文档的工作完成。一般没有人访问它。因此，它将成为不常访问的文档。然后我们可以将文档从*热存储*移动到*冷存储*来节省成本，因为冷存储是根据文档被访问的次数来构建的。一旦文档成熟，也就是说，一旦我们停止处理该文档，文档就会变旧。我们很少提及那份文件。在这种情况下，我们把它放在冷库里。

但在六个月或一年内，我们不希望这份文件在未来被提及。在这种情况下，我们会将该文档移动到归档存储中。

因此，就存储而言，热存储比冷存储贵。但就存取而言，冷藏更贵。归档存储用于将文档归档到不可访问的存储中。

**Azure 存储复制**

Azure 存储复制用于数据的持久性。它复制我们的数据，以防止计划内和计划外事件，从短暂的硬件故障、网络或电力中断、大规模自然灾害到人为漏洞。

Azure 为我们的数据创建了一些副本，并将其存储在不同的地方。基于复制策略。

**LRS(本地冗余存储):**因此，如果我们使用本地冗余存储，数据将存储在数据中心内。如果数据中心或区域宕机，数据将会丢失。

**ZRS(分区冗余存储):**数据将跨数据中心复制，但在区域内复制。在这种情况下，即使一个节点不可用，数据在数据中心内也始终可用。或者，我们可以说，如果整个数据中心宕机，数据也将可用，因为数据已经在该区域内的另一个数据中心拷贝。但是，如果区域本身消失了，那么您将无法访问数据。

**GRS(全局冗余存储):**保护我们的数据免受区域范围故障的影响。我们可以选择全局冗余存储。在这种情况下，数据将在地理区域内的成对区域中复制。如果我们想对复制到另一个区域的数据进行只读访问，那么在这种情况下，我们可以选择 ***RA-GRS(读访问全局冗余存储)*** 。就耐用性而言，我们可以得到不同的东西，如下表所示。

![Azure Storage Account](../Images/584b45f4f5fad50f6ee8d10cd878f15f.png)

**存储账户端点**

每当我们创建存储帐户时，我们都会获得一个端点来访问存储帐户中的数据。因此，我们存储在 Azurestorage 中的每个对象都有一个地址，其中包括您唯一的帐户名和帐户名的组合，以及服务端点，它构成了您的存储帐户的端点。

例如，如果您的通用帐户名是 *mystorageaccount* ，那么不同服务的默认端点通常如下所示:

**天青 Blob 存储:***http://mystorageaccount.blob.core.windows.net。*

**天青台储物:**T2【http://mystorageaccount.table.core.windows.net】T3

**蔚蓝队列存储:***http://mystorageaccount.queue.core.windows.net*

**蔚蓝档案:***http://mystorageaccount.file.core.windows.net*

如果我们想为这些映射我们的自定义域，我们仍然可以这样做。我们可以使用我们的自定义域来引用这些存储服务端点。

### 创建和配置 Azure 存储帐户

让我们看看如何在 Azure 门户中创建存储帐户，并讨论与存储帐户相关的一些重要设置:

**步骤 1:** 登录您的 Azure 门户主屏幕，点击“创建资源”。然后在搜索框中输入存储帐户，然后单击“存储帐户”。

![Azure Storage Account](../Images/fe8f9d0b7dc74cdf9610b7d6465b4913.png)
![Azure Storage Account](../Images/d97a3c45f4104b89f969092e409738a8.png)

**步骤 2:** 点击创建，您将被重定向到创建存储帐户窗口。

![Azure Storage Account](../Images/711ebc4f94a8eff9bde92e741087460b.png)

**第三步:**首先，无论何时在 Azure 中创建任何资源，都需要选择订阅，其次，需要选择一个资源组。在我们的例子中，订阅是“免费试用”。

使用现有的资源组或创建新的资源组。在这里，我们将创建一个新的资源组。

![Azure Storage Account](../Images/7a12b72c0988e2528492ae8a1ec7f0d3.png)

**第四步:**然后，填写存储帐户名，应该全部小写，并且在整个 Azure 上应该是唯一的。然后选择您的位置、性能层、帐户类型、复制策略、访问层，然后单击下一步。

![Azure Storage Account](../Images/4a0e48818ad8b858851e113b5d70f4d5.png)

**第 5 步:**您现在在网络窗口上。在这里，您需要选择连接方法，然后单击下一步。

![Azure Storage Account](../Images/dc9836664ec6b363d23dd8d77b818ffd.png)

**第 6 步:**如果您需要启用或禁用安全性、Azure 文件、数据保护、数据湖存储，您现在进入高级窗口，然后单击下一步。

![Azure Storage Account](../Images/2708cb53adca93aa4bbdb90fc08d7caf.png)

**第 7 步:**现在，您被重定向到“标记”窗口，您可以在其中提供标记，将您的资源分类到特定的桶中。输入标签的名称和值，然后单击下一步。

![Azure Storage Account](../Images/57ca1f9bb7b8fad1e59ff43c8a9c370b.png)

**第 8 步:**这是通过验证的最后一步，您可以查看您提供的所有元素。最后点击创建。

![Azure Storage Account](../Images/4909df0fc3fa8515649b3628cfccd76e.png)

现在，我们的存储帐户已成功创建，将出现一个窗口，显示消息“您的部署已完成”。

![Azure Storage Account](../Images/886fff2ea37094bc636c8e205c3c44fc.png)

点击“转到资源”，将出现以下窗口。

![Azure Storage Account](../Images/d515427b4d72d15a4a46aadfeed39e63.png)

创建存储帐户时，您可以看到为不同配置设置选择的所有值。

让我们看看存储帐户的一些关键配置设置和关键功能

**活动日志:**我们可以查看 Azure 中每个资源的活动日志。它提供了在该特定资源上执行的活动的记录。这是 Azure 中所有资源的共性。

**访问控制:**在这里，我们可以将存储账户的访问权限委托给不同的用户。

**标签:**我们可以在这里分配新的标签或者修改现有的标签。如果我们有任何问题，我们也可以诊断和解决问题。

**事件:**我们可以订阅这个存储账号内正在发生的一些事件，可以是逻辑 app，也可以是函数。例如，在存储帐户中创建一个 blob。该事件将触发一个逻辑应用程序，其中包含该 blob 的一些元数据。

**存储资源管理器:**在这里，您可以根据 blobs、文件、队列和表来浏览存储帐户中的数据。同样，您也可以下载和连接桌面版本的存储资源管理器，但这更像是它的网络版本。

**访问密钥:**我们可以使用它来开发应用程序，这些应用程序将访问存储帐户内的数据。但是，我们可能不希望直接授予对此访问密钥的访问权限。我们可能希望创建 SAS 密钥。在这里，我们可以在有限的时间内生成特定的 SAS 密钥，并且访问受限。然后将该 SAS 签名提供给我们的开发人员。另一种方法是访问键。访问键提供全面访问。因此，除了创建该存储帐户的人之外，我们建议不要将访问密钥授予任何人。

**CORS(跨产地资源共享):**这里可以提一下域名，允许哪些操作。

**配置:**如果我们想更改任何配置值，那么有些东西一旦创建了存储帐户就不能更改了——例如，性能类型。但是我们可以更改访问层、是否需要安全传输、复制策略等。

**加密:**这里，我们可以指定自己的密钥，如果我们想加密存储账户内的数据。我们需要点击复选框，然后选择钥匙所在的 URI 钥匙库。

**(SAS)共享访问签名:**在这里，我们可以生成有限访问和有限时间段的 SAS 密钥，并将该信息提供给使用存储帐户开发应用程序的开发人员。SAS 用于访问存储在存储帐户中的数据。

**防火墙和虚拟网络:**在这里，我们可以这样配置网络:允许来自某些虚拟网络或某些 IP 地址范围的连接连接到此存储帐户。

我们可以配置高级威胁防护，并使存储帐户兼容托管静态网站

**属性:**这里我们可以看到与存储账户相关的属性

**锁:**在这里，我们可以对服务应用锁。

这些是我们可以配置的不同设置，其余的设置与存储帐户中的不同服务相关，例如 blob、文件、表和队列。

* * *