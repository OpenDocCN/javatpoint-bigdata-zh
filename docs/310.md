# 创建云前端 CDN

> 原文:[https://www.javatpoint.com/aws-creating-a-cloudfront-cdn](https://www.javatpoint.com/aws-creating-a-cloudfront-cdn)

### 第一步:创建一个桶，并在桶中上传内容。

*   登录到 AWS 管理控制台。
*   单击 AWS 管理控制台中的 S3 服务。
*   点击“创建桶”按钮。

![Creating a CloudFront CDN](../Images/a301d8898037093da1e3cf3b471a0bac.png)

*   在创建对话框中，输入存储桶名称。

![Creating a CloudFront CDN](../Images/80a659d44affb7d9317195ca7e13675a.png)

我提供了**“jtpbucket”**作为桶名。

*   为您的铲斗选择一个区域。默认情况下，亚马逊 S3 存储桶将对象存储在美国东部(俄亥俄州)地区。
*   点击**创建**按钮。
*   选择您的铲斗，然后点击**上传**按钮。
*   点击**添加文件**，从设备中选择想要上传的文件。
*   启用对已成功上载的对象的公共访问。
*   上传文件后，您可以使用下面给出的网址导航到该对象:

[https://s3.us-east-2.amazonaws.com/jtpbucket/jtp.jpg](https://s3.us-east-2.amazonaws.com/jtpbucket/jtp.jpg)

### 步骤 2:创建云前端分发

*   使用链接 https://console.aws.amazon.com/cloudfront/.打开云前端控制台
*   点击**创建分布**
*   选择您的内容的传送方式，在**网页分发**中，点击**开始**按钮。

### 原点设置

![Creating a CloudFront CDN](../Images/565d12a521ee10e49e771bd26a5336ec.png)

哪里，

**原产地域名:**定义原产地从何而来。起源域名是**jtpbucket.s3.amazonaws.com**，其中 jtpbucket 是我们在 S3 创建的一个桶。

**原点路径:**一个分布可以有多个原点。原点路径是 S3 桶中的一个文件夹。您可以将 S3 存储桶中的文件夹添加到原点路径中，这意味着原点来自不同的文件夹，而不是存储桶本身。我保留原始路径的默认值。

**原点 ID:** 是原点的名称。在我们的例子中，原点的名字是 **S3-jtpbucket** 。

**限制存储桶访问:**如果您不希望存储桶被 S3 网址公开访问，并且您希望所有请求都必须通过 CloudFront，则启用**限制存储桶访问**条件。

**原点访问身份:**我们没有任何现有的身份，所以我们点击**创建一个新的身份**。

**授予桶的读取权限:**您可以手动更新权限，也可以希望权限自动更新。所以，我们点击**是，更新水桶政策**。

### 缓存行为设置

![Creating a CloudFront CDN](../Images/73575e628641c8870e883b127b0f839f.png)
![Creating a CloudFront CDN](../Images/6d697094132fe71b383b6de529bc8954.png)

**路径模式:**使用正则表达式。我们可以有很多起源。假设我的一个用户想从源访问 pdf 文件，另一个用户想从 S3 桶访问 jpeg 文件，那么我们使用路径模式。

**查看器协议策略:**您可以通过三种方式查看 CloudFront 分发:HTTP 和 HTTPS、重定向 HTTP 到 HTTPS 和仅 HTTPS。我点击**重定向 HTTP 到 HTTPS** 。

**允许的 HTTP 方法:可以使用以下方法:**

*   起来，头
*   获取，头部，选项
*   GET、HEAD、OPTIONS、PUT、POST、PATCH、DELETE:此选项用于授予用户在 CloudFront 分发版中上传文件的权限，边缘位置将更新您的原点。

**限制查看者访问:**也可以限制查看者访问。例如，您通过视频向员工提供培训，您希望将访问权限限制在经过身份验证的员工。这可以通过点击**的“是”来限制查看者访问:**条件来实现。

### 分发设置

![Creating a CloudFront CDN](../Images/2ffdfb64ae18f35dd54deb10b5bb2f77.png)
![Creating a CloudFront CDN](../Images/21bb83601e2f9781ed1048a36d4dcc05.png)

**价格等级:**您可以选择与您希望为 CloudFront 服务支付的最大服务相对应的价格等级。

**备用域名:**当我们从分发中创建云时，它变得不友好，因为 CloudFront 的域名是随机数字和字母的集合。为了使其友好，我们添加了一个替代域名，如 **cdn.acloud.guru** ，并且该域名是人类可读的，适用于本发行版。

**SSL 证书:**如果用户使用 CloudFront 域名访问内容，可以使用默认的 CloudFront 证书。如果用户使用备用域名访问内容，则需要使用自定义 SSL 证书。

**默认根对象:**当用户请求您的分发的根 URL 时，CloudFront 会从源服务器请求您想要的对象。

**日志记录:**如果选择 ON，则意味着您希望 CloudFront 记录每个对象请求的相关信息，并将日志文件存储在亚马逊 S3 存储桶中。

**日志前缀:**是桶内的目录。

**Cookie 记录:**您可以打开或关闭 Cookie 记录。在这个例子中，我们使用亚马逊 S3 作为你的对象的来源，所以我们不需要打开 Cookie 记录。

**分发状态:**您可以启用或禁用分发状态。启用分发后，云前端会处理与此分发相关联的查看器请求。当分发被禁用时，CloudFront 不接受与此分发相关联的任何内容请求。

*   点击**创建分布**按钮。

### 第三步:测试你的链接

*   在发行版创建之后，我们得到了 CloudFront 发行版的域名，我们还知道了放在 S3 桶中的对象名。现在，可以创建如下所示的链接:

**“http://域名/对象名”**

* * *