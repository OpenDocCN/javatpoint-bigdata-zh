# 什么是 AWS CLI？

> 原文：<https://www.javatpoint.com/what-is-aws-cli>

AWS 命令行界面是一种将所有 AWS 服务集中到一个中央控制台中的工具，使您可以使用一个工具轻松控制多个 AWS 服务。

首字母缩略词代表亚马逊网络服务命令行界面，因为顾名思义，用户从命令行操作它。有了它，您可以手动控制服务，或者使用强大的脚本自动控制服务。

### 它是如何工作的？

AWS 是一个安全的云服务平台，为开发者提供计算能力、内容交付、数据库存储和其他基础设施服务。

支持者指出它的速度、灵活的定价、模范的客户服务和多种服务是它的优势。AWS 命令行界面通过将所有这些服务的控制捆绑到一个简单的命令行界面中来锦上添花。它省去了通过图形用户界面与系统交互的用户友好(但耗时)阶段。

### 如何安装 AWS 命令行界面

您可以从亚马逊上的 AWS 命令行界面资源页面下载并安装该工具。该页面提供了 Windows、Mac 和 Linux 安装的下载选项。

它也有一个初学者指南，一个全面的参考手册，一个用户论坛，和一个到 GitHub 项目的链接。以下是亚马逊提供的安装工具:

*   Windows 64 位下载
*   Windows 32 位下载

巧克力:巧克力蛋糕

Mac 和 Linux 下载(需要 Python 2.6.5 或更高版本)

### Pip 安装链接

要安装 AWS CLI，用户注册一个 AWS 账户，获取访问密钥 ID 和秘密访问密钥，然后选择一个(非常简单！)安装方法取决于他们的系统和软件。

**有 pip/Python 系统的可以运行:**

```

$ pip install --upgrade - user awscli

```

亚马逊这里的安装文档还解释了在 Linux 上安装 Python/pip/CLI 以及在 MS Windows、macOS 或虚拟环境中安装 AWS CLI 的选项。还有一种选择是将该工具与捆绑安装程序一起安装在 Linux、Unix 或 macOS 上。总的来说，安装步骤很简单，只需下载归档文件，将其解包，运行(简短的)安装脚本并检查您的工作。

以下示例显示了执行各种任务的界面，并展示了它的强大功能。

### 删除 S3 桶

亚马逊 S3 服务是亚马逊的简单存储设备。它在按使用量付费的计划中提供基本的在线数据存储。数据存储在桶中。

使用标准图形用户界面时，删除包含多个文件和文件夹的存储桶可能会有些耗时。通过使用 AWS 命令行界面，只需一个命令，您就可以在几秒钟内执行此任务:

```

$ aws s3 rb s3://bucket-name --force

```

## 创建 EC2 实例

亚马逊弹性计算云或 EC2 是一个亚马逊网络服务，为开发者提供简单的网络规模的云计算。下面的示例显示了命令行工具如何使启动多个 EC2 实例变得容易。

```

$ aws ec2 start-instance --instance-id i-4j3423ie i-32u89uf2

```

### 列出所有暂停的 EC2 实例，并显示每个实例停止的原因

当您管理多个 EC2 实例时，列出暂停的实例并显示每个实例的原因可能是标准图形用户界面的一个小问题。下面的示例显示了如何使用 AWS 命令行界面(和 jq)轻松做到这一点:

```

aws ec2 description-instance --filter name=instance-state-name, value=stopped --region eu-west-1 --output json | jq -r .Reservations[].Instances[] .StateReason.Message

```

## AWS 命令行界面的优势

主要优势之一是能够节省大量时间。节约来自于简单的安装、一个工具的所有服务支持、超越图形用户界面，以及通过 shell 脚本自动执行流程和命令。

*   **安装方便**。安装以前的工具包，如旧的 AWS EC2 应用编程接口工具包，需要几个步骤，并迫使用户设置多个环境变量。有太多地方可以出错和设置。AWS 命令行界面的主要优势之一是安装流畅、快速、简单和标准化。
*   **支持所有亚马逊网络服务**。以前，您只需要 EC2 服务的专用命令行界面工具。它工作得很好，但它没有让用户控制其他亚马逊网络服务，例如 AWS RDS(关系数据库服务)。相比之下，AWS 命令行界面允许您用一个简单的工具控制所有的服务。
*   **节省时间**。当你在学习一个系统的诀窍时，图形用户界面是很棒的。一旦你启动并运行，用户友好的图形界面工具开始阻碍你。大多数用户一旦达到一定的熟练程度，就会发现 AWS CLI 更快、更容易使用。
*   **Scr** 亚马逊用脚本自动控制所有 web 服务的能力可能是最大的优势。部分任务自动化可以让开发人员免于登录 AWS 管理控制台，外壳脚本可以让云基础设施完全自动化。

因为界面是亚马逊所有网络服务的控制器，所以很好地使用它的最佳实践在很大程度上与 AWS 相同。亚马逊已经制作了大量关于其最佳实践的优秀文档，可以满足大众市场平装书的需求。

该列表包括架构、网络应用托管、安全、电子邮件、IAM、DynamoDB、EC2 和可信顾问的最佳实践。以下是程序员分析师的**五大最佳实践列表。**

*   **守住自己的凭据**权力大，责任大。命令行界面让黑客和白帽用户可以轻松管理亚马逊网络服务。不要在日常对话中使用根帐户，也不要为您的 AWS 根帐户生成根访问密钥。
*   **保护您的应用程序**。仅允许应用程序层访问您的数据库层。仅在必要时允许连接到外部世界，并拒绝所有其他互联网流量。
*   **早备份，常备份。**使用亚马逊 EBS 快照定期备份您的实例。在紧急情况发生之前测试恢复资源。这是亚马逊关于如何自动备份的文档。
*   **使用值得信赖的顾问。**亚马逊称值得信赖的顾问为“您的优化云专家！”它分析您的 AWS 环境，帮助您遵循最佳实践。可信顾问寻求节省资金、解决安全漏洞和提高系统可靠性和性能的方法。例如，您可以从 AWS 命令行界面访问可信顾问来检查服务限制。
*   **了解共同责任模式。**用户管理自己的数据、操作系统和安全，亚马逊负责基础设施和服务。无论您使用的是标准图形用户界面还是更简单、更快速的命令行界面，这都是正确的。

## 其他资源和教程

有关该界面的其他信息和帮助，请参见下面的参考资料列表。

**AWS CLI Shell。**这个 shell 是 GitHub 上提供的一个交互式生产力助推器，它帮助用户运行界面，即使他们不知道所有的命令。

亚马逊网络服务命令行界面是帮助您管理强大云服务的强大工具。

但亚马逊并不是唯一的云服务；在 Stackify，我们是 Azure 的忠实粉丝，我们构建了我们强大的 APM 解决方案——Retrace，并牢记 Azure。如果您对云提供商持观望态度，请查看我们的 Azure 与 AWS 对比。在这篇文章中，我们提供了一些额外的要点来考虑，并提出了一个不要把所有鸡蛋放在一个篮子里的理由。

## AWS 命令行界面

AWS 命令行界面是管理 AWS 服务的统一工具。只需一个工具来下载和配置，您就可以从命令行控制多个 AWS 服务，并通过脚本实现自动化。

AWS CLI v2 提供了几个新功能，包括改进的安装程序、新的配置选项(如 AWS 单点登录(SSO))和各种交互式功能。

**窗户**

下载并运行 64 位 Windows 安装程序。

柔软

下载并运行 MacOS PKG 安装程序。

Linux

下载、解压缩，然后运行 Linux 安装程序

### Amazon Linux

AWS 命令行界面预装在亚马逊 Linux AMI 上。

### 发布说明

有关最新版本的更多信息，请查看发行说明。

### 外壳(开发者预览)

aws-shell 是一个命令行 shell 程序，它提供了便利和生产力功能，以帮助 aws 命令行界面的新用户和高级用户。主要功能包括以下内容。

命令的模糊自动完成(例如 ec2、描述实例、sqs、创建队列)

选项(例如- **实例 id，-队列 url** )

资源标识符(例如，亚马逊 EC2 实例标识、亚马逊 SQS 队列网址、亚马逊社交网络主题名称)

**动态在线文档**

键入时会显示命令和选项的文档

**执行操作系统外壳命令**

在不离开外壳的情况下，使用常见的操作系统命令，如 cat、ls 和 cp 以及管道输入和输出。

### 将执行的命令导出到文本编辑器

### 使用

《AWS 命令行界面用户指南》将指导您安装和配置该工具。之后，您可以开始从命令行调用您的 AWS 服务。

```

$ aws ec2 describe-instances
$ aws ec2 start-instances --instance-ids i-1348636
$ aws sns publish --topic-arn arn:aws:sns:us-east-1:546419318123:OperationsError --message "Script Failure
$ aws sqs receive-message --queue-url https://queue.amazonaws.com/546419318123/Test

```

您可以在命令行上获得帮助来查看支持的服务，

*   $ aws 帮助服务的操作，
*   $ aws 自动缩放帮助和服务操作的参数。
*   $ aws 自动缩放创建-自动缩放-组帮助

### 亚马逊 S3 的文件命令

新的文件命令使管理您的亚马逊 S3 对象变得容易。使用熟悉的语法，您可以在基于目录的列表中查看 S3 桶的内容。

```

$ aws s3 ls s3://mybucket

```

您可以在单个文件夹级命令中执行多个文件的递归上传和下载。AWS 命令行界面将并行运行这些传输，以提高性能。

```

$ aws s3 cp myfolder s3://mybucket/myfolder --recursive
upload: myfolder/file1.txt to s3://mybucket/myfolder/file1.txt
upload: myfolder/subfolder/file1.txt to s3://mybucket/myfolder/subfolder/file1.txt

```

同步命令可以轻松地将本地文件夹的内容与 S3 存储桶中的副本同步。

```

$ aws s3 sync myfolder s3://mybucket/myfolder --exclude *.tmp
upload: myfolder/newfile.txt to s3://mybucket/myfolder/newfile.txt

```

* * *