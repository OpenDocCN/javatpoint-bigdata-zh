# Azure SQL 托管实例

> 原文:[https://www.javatpoint.com/azure-sql-managed-instance](https://www.javatpoint.com/azure-sql-managed-instance)

Azure SQL 数据库管理实例是基于基于 VCore 的采购模型的 Azure SQL 数据库的新实现模型。

### 使用托管实例的优势

**轻松提升和转移:**客户可以将其内部部署的 SQL server 提升和转移到托管实例，该实例提供与内部部署的 SQL Server 的兼容性。

**完全托管的 PaaS:** Azure SQL 数据库托管实例专为希望将大量应用从内部自建或 ISV 提供的环境迁移到完全托管的 PaaS 云环境的客户而设计。

**新商业模式:**竞争、透明、无摩擦的商业模式

**安全性:**托管实例，提供与本地 SQL Server 的兼容性，并通过本地虚拟网络支持完全隔离客户实例。

## 托管实例安全隔离

托管实例为 Azure 云中的其他租户提供了额外的安全隔离。

托管实例安全隔离包括:

*   使用 Azure 快速路由或虚拟专用网网关实现本地虚拟网络并连接到我们的内部环境。
*   SQL 端点仅通过私有 IP 地址公开，允许从私有 Azure 或混合网络进行安全连接。
*   这是一个具有专用底层基础架构(计算、存储)的单租户环境。

## 托管实例的结构

![Azure SQL Managed Instance](../Images/7fae755bdfe5a60f40ddbcd5bf67f908.png)

当我们创建一个托管实例时，将创建一个虚拟网络。它将有前端子网、网关子网、受管实例子网，我们可以作为受管实例创建的一部分部署的节点将实施到 MI 子网中。每个节点都由 SQL 引擎和 SQL 管理组成。在同一个网络中，我们还可以部署多个节点，这些不同的节点将与网关服务器形成一个虚拟集群。

整个虚拟集群将有两个端点。第一个端点将用于客户端连接，第二个端点是公共的，但将由 Microsoft 用来管理此环境。他们需要使用一些自动化脚本或类似的东西连接到这个环境，并为此目的维护它。

整个环境也有一个端点可以正常工作。它还需要连接到 Azure 存储和服务总线。因此，当我们试图限制从 MI 子网到外部的流量时。确保我们允许所有与微软相关的流量，否则，我们的环境可能无法正常工作。

最后，就客户端连接和连接到数据库的应用程序而言，它们可以驻留在前端子网中并连接到数据库，或者它们可以位于对等网络中，当我们对等网络时，所有网络应用程序或虚拟机都可以连接到数据库，因为两个网络都有对等网络。我们还可以通过创建虚拟网络网关或快速网关将内部应用程序加入数据库。

所有的连接，无论是网络应用程序、虚拟机还是内部应用程序，都是通过私有连接与数据库通信的。

* * *